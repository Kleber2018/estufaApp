<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <!-- <ion-title>{{ folder }}</ion-title>-->
    <!-- <ion-button color="warning" (click)="fucaoteste()">Alertas</ion-button> -->
  </ion-toolbar>
</ion-header>



<ion-content [fullscreen]="true" *ngIf="formConfig" [formGroup]="formConfig">
      <ion-item-divider style="margin: 8px 0px">
        <ion-text>Faixa de medição dos alertas</ion-text>
      </ion-item-divider>


      <ion-list style="padding: 0px; margin-block-end: 8px;">
        <ion-list-header>
          <ion-label style="margin-top: -16px;">
            Etapa de Secagem:
          </ion-label>
        </ion-list-header>      
        <ion-item style="margin-top: -16px;">
          <ion-select value="talo" okText="Ok" cancelText="Cancelar" [value]="etapa" multiple="false" formControlName="etapa" (ionChange)="escolheEtapa($event.detail.value);">
            <ion-select-option value="Personalizada">Personalizada</ion-select-option>
            <ion-select-option value="Secagem do Talo" >Secagem do Talo</ion-select-option>
            <ion-select-option value="Secagem da Folha">Secagem da Folha</ion-select-option>
            <ion-select-option value="Murchamento" >Murchamento</ion-select-option>
            <ion-select-option value="Amarelacao" >Amarelação</ion-select-option>
            <ion-select-option value="default">Default</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>

      <ion-card style="padding: 8px 0px 0px 0px;">
        <ion-text style="margin-left: 16px;">Temperatura (F):</ion-text>
        <ion-item>
          <ion-row style="margin-top: 8px;">
            <ion-col style="padding-block-end: 0px;" >
              <ion-label position="inline">Mínima</ion-label>
              <ion-input formControlName="temp_min" type="number"></ion-input>
            </ion-col>
            <ion-col style="padding-block-end: 0px;">
              <ion-label position="inline" >Máxima</ion-label>
              <ion-input formControlName="temp_max"  type="number"></ion-input>
            </ion-col>
          </ion-row>
        </ion-item>
      </ion-card>



      <ion-card style="padding: 8px 0px 0px 0px;">
        <ion-text style="margin-left: 16px;">Umidade (%):</ion-text>
        <ion-item>
          <ion-row style="margin-top: 8px;">
            <ion-col style="padding-block-end: 0px;" >
              <ion-label position="inline">Mínima</ion-label>
              <ion-input formControlName="umid_min" type="number"></ion-input>
            </ion-col>
            <ion-col style="padding-block-end: 0px;">
              <ion-label position="inline" >Máxima</ion-label>
              <ion-input formControlName="umid_max"  type="number"></ion-input>
            </ion-col>
          </ion-row>
        </ion-item>
      </ion-card>

  

      <ion-item-divider style="margin: 8px 0px">
        <ion-text>Periodicidade de medição</ion-text>
      </ion-item-divider>
      <ion-item>
        <ion-label>Medir a cada: </ion-label>
        <ion-input formControlName="intervalo_seconds" type="number"></ion-input>
        <ion-label>segundos</ion-label>
      </ion-item>

      <ion-item style="margin-top: 4px;">
        <ion-label position="floating">Observação:</ion-label>
        <ion-textarea formControlName="obs"></ion-textarea>
      </ion-item>

      <ion-row class="ion-justify-content-center" style="margin: 8px">
          <ion-button color="warning" type="submit" (click)="submitConfig()" [disabled]="(!formConfig.valid || !token)">Salvar</ion-button>
      </ion-row>
      <ion-row class="ion-justify-content-center" style="margin: 16px">
        <ion-button color="tertiary" expand="block" (click)="dismiss()">Voltar</ion-button>
      </ion-row>
</ion-content>


<ion-content *ngIf="!formConfig">
  <ion-row style="margin: 16px 8px;" class="ion-justify-content-center" >
    <ion-text >Erro de conexão</ion-text>
  </ion-row>
  <ion-row  style="margin: 8px;">
    <ion-text> - Verifique se você está na mesma rede do disposítivo</ion-text>
  </ion-row>
  <ion-row  style="margin: 8px;">
    <ion-text>- Desative os dados móveis da operadora</ion-text>
  </ion-row>
  <ion-row class="ion-justify-content-center" style="margin: 16px">
    <ion-button color="tertiary" expand="block" (click)="dismiss()">Voltar</ion-button>
  </ion-row>

</ion-content>